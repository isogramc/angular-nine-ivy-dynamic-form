
<div class='container'>
<h1 class="text-info text-center">Buy Tickets {{ name }}</h1>

<form [formGroup]="buyTicketForm" novalidate class="border border-light p-5" (ngSubmit)='buyTickets()'>
  <input formControlName='emailControl' type="text" class="form-control mb-4" placeholder="Enter Email"/>
  <input formControlName='phoneControl' type="text" class="form-control mb-4" placeholder="Enter Phone Number"/>
  <form formGroupName="address">
    <input formControlName='streetControl' type="text" class="form-control mb-4" placeholder="Enter Street Name"/>
    <input formControlName='postalCode' type="text" class="form-control mb-4" placeholder="Enter Postal Code"/>
  </form>
  <div class="row mb-4">
     <div class="col-lg-4 col-md-8 col-sm-4"></div>
     <div class="col-md-4 col-sm-4">
      <button class="btn btn-info" (click)="addTicket()">Add Ticket</button>
    </div>
  </div>
  <div formArrayName="tickets" *ngFor="let t of tickets.controls; let i = index">
    <div class="row" [formGroupName]="i">
    <div class="col-md-12">
      <h1 class="lead">Ticket {{i+1}}</h1>
    </div>
    <div class="row">
      <div class="col-md-1"></div>
      <div class="col-md-5">
        <input id="{{'name-'+i}}" formControlName="name" class="form-control mb-4" type="text" placeholder="Name"/>
        <div class="alert alert-danger" *ngIf="tickets.controls[i].get('name').hasError('required') && tickets.controls[i].get('name').touched">Name is required</div>
      </div>
      <div class="col-md-5">
        <input id="{{'age-'+i}}" formControlName="age" class="form-control mb-4" type="text" placeholder="Age"/>
        <div class="alert alert-danger" *ngIf="tickets.controls[i].get('age').hasError('required') && tickets.controls[i].get('age').touched">Age is required</div>
      </div>
      <div class="col-md-1"></div>
    </div>

    </div>
  </div>
  <div class="row">
  <div class="mb-4"><button class="btn btn-info" [disabled]="buyTicketForm.invalid">Submit</button></div>
  <div class="col-1"></div>
<div class="mb-4"><button class="btn btn-warning" (click)="clear()">Clear</button></div>
<div class="col-1"></div>
<div class="mb-4"><button class="btn btn-warning" (click)="removeLastTicket()">Remove Last</button></div>
</div>
</form>
</div>